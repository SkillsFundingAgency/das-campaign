@using SFA.DAS.Campaign.Web.ViewComponents.GoogleMaps
@using SFA.DAS.Campaign.Web.ViewComponents.Sidebar
@model SearchResultsViewModel

@{
    ViewBag.Title = "Find an apprenticeship";
    ViewBag.PageID = "find-an-apprentice";
    ViewBag.Section = "apprentice";
    ViewBag.MetaTitle = "Find an apprenticeship";
    ViewBag.MetaDesc = "";
    Layout = "_LayoutContentSidebar";
}

<div class="grid-row">
    <div class="column-one-third">

        <br />
        @{ await Html.RenderPartialAsync("_searchFilter", Model.filterModel); }
    </div>
    <div class="column-two-thirds">
        <ol id="vacancy-search-results" class="search-results-list">

            @foreach (var vacancySearchResultItem in Model.Results)
            {

                await Html.RenderPartialAsync("_searchResults", vacancySearchResultItem);

            }

        </ol>
    </div>
</div>

@section Scripts
    {
    <script src="http://localhost:50159/lib/markerclustererplus/markerclusterer.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIhjmd9QkQXP_s9nULNsMRkPJgT8tv4_8"
            type="text/javascript"></script>
    <script src="http://localhost:50159/lib/google-maps-infobox/infobox.js"></script>


}

@section Sidebar
    {
    @await Component.InvokeAsync("Sidebar", new { headerType = SidebarHeaderType.GoogleMap, googleMapsOptions = new GoogleMapsViewModel(Model.StaticMapUrl) { Latitude = Model.Location.Latitude, Longitude = Model.Location.Longitude } })
}