@using Sfa.Das.Sas.Shared.Components.ViewModels.Css.Interfaces
@model Sfa.Das.Sas.Shared.Components.ViewComponents.Basket.AddOrRemoveFromBasketViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@inject ICssViewModel CssViewModel

@{
    var buttonStatusClassSuffix = Model.IsInBasket ? "checked" : "unchecked";
    var buttonText = Model.IsInBasket ? "Remove from favourites" : "Add to favourites";
    var buttonState = Model.IsInBasket ? " fiu-favourite-bar__link--active" : "";
    var buttonAction = Model.IsInBasket ? "removing" : "adding";
}

@if (Model.LocationId.HasValue)
{
    <button type="submit" class="fiu-favourite-bar__link @buttonState" name="itemId" value="@Model.ItemId,@Model.LocationId" data-title="@Model.ItemTitle" data-type="@Model.ItemType" data-action="@buttonAction">
        <span class="fiu-favbar__img-wrap"></span>
        @buttonText
    </button>
}
else
{
    <button type="submit" class="fiu-favourite-bar__link @buttonState" name="itemId" value="@Model.ItemId" data-title="@Model.ItemTitle" data-type="@Model.ItemType" data-action="@buttonAction">
        <span class="fiu-favbar__img-wrap"></span>
        @buttonText
    </button>
}
